@import "variables";

///
/// Conversation left-pane
///

.ConversationSidebar {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  border-right: 0 solid var(--list-border);
  overflow-y: scroll;
}

///
/// Conversation list header
///
.ConversationSidebar__menuButton {
  display: flex;
  height: var(--size-tab-bar);
  align-items: center;
}
.ConversationSidebar__teamName {
  font: var(--font-subtitle);
  padding: .5rem 1rem;
  margin: 0;
}
.ConversationSidebar .ConversationSidebar__teamName [class^=cm-icon-] {
  pointer-events: none;
  &::before,
  &::after {
    --icon-size: 1.25rem;
    margin: 0 .125rem;
  }
}



.ConversationHeader__actions {
  display: flex;
  margin: .5rem 0;
}

.ConversationHeader__new {
  margin: 1rem auto;
}

.ConversationHeader__search {
  border-top: 1px solid var(--list-separator);
  padding: 2rem 1.5rem;
}
.ConversationHeader__search [type=search] {
  margin: 0 auto;
  width: 100%;
}

.ConversationSwitcher {
  flex: 1;
  display: flex;
  flex-direction: column;
}
.ConversationSwitcher h3 {
  font: var(--font-small-bold);
  padding: 1rem;
  margin: 0;
  width: 50%;
  text-align: center;
  background-color: var(--list-bg);
}

.ConversationList {
  background-color: var(--list-bg);
  height: -webkit-fill-available;
}

///
/// Conversation list items
///

.Conversation {
  list-style: none;
  border-bottom: 1px solid var(--list-separator);
  padding: 0; // override dsfr style for <li>
}
.Conversation__link {
  padding: .5rem 1rem;
  height: 7rem;
  display: grid;
  grid-template-columns: 1fr auto;
  grid-template-rows: 1fr 2fr 1fr;
  grid-template-areas:
    ".         time"
    "preview status"
    ".       agents";
  align-items: center;
  &:any-link {
    text-decoration: none;
    background: unset;
  }
  transition: background-color .1s ease;
}

.Conversation .Conversation__link:active {
  background: var(--list-active-bg);
}
.Conversation--active .Conversation__link:hover,
.Conversation--active .Conversation__link:active,
.Conversation--active .Conversation__link {
  background: var(--list-selected-bg);
  color: var(--text-list-selected);
}

.Conversation__preview {
  grid-area: preview;
}
.Conversation__contact {
  font-weight: bold;
  margin-bottom: .25rem;
  @include truncate;
}
.Conversation__latest {
  grid-area: time;
  font: var(--font-small);
  line-height: 1rem;
  text-align: right;
  font-style: italic;
}
.Conversation__sub {
  grid-area: sub;
  font: var(--font-small);
  line-height: 1.25rem;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  overflow: hidden;
}
.Conversation__status {
  grid-area: status;
  height: 1.25rem;
  width: 1.25rem;
  border-radius: 100%;
  justify-self: end;
  .Conversation--unread & {
    background: var(--notif-conversation-unread);
  }
}
